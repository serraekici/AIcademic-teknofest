<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>KorumalÄ± Alan</title>
</head>
<body>
  <h2>KorumalÄ± Sayfa</h2>
  <button onclick="getProtectedData()">Veriyi GÃ¶ster</button>
  <div id="result"></div>

<script>
  function getProtectedData() {
    const token = localStorage.getItem("access");  // login sÄ±rasÄ±nda kaydetmiÅŸtik

    fetch("http://127.0.0.1:8000/api/protected/", {
      method: "GET",
      headers: {
        "Authorization": "Bearer " + token
      }
    })
      .then(res => res.json())
      .then(data => {
        document.getElementById("result").innerText = data.message;
      })
      .catch(error => {
        document.getElementById("result").innerText = "EriÅŸim reddedildi ğŸš«";
      });
  }  

  // ğŸ”— SÄ±nav Takvimine YÃ¶nlendirme Butonu
  const examBtn = document.getElementById("exam-schedule-btn");
  examBtn.addEventListener("click", () => {
    window.location.href = "ders_sinav.html";  // Hedef sayfa burasÄ±
  });
</script>

</body>
</html>
